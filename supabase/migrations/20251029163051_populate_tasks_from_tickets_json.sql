/*
  # Populate tasks table with data from tickets.json

  1. Data Migration
    - Insert all ticket records from the JSON file
    - Map JSON field names to database columns
    - Convert timestamps to proper format
*/

INSERT INTO tasks (task_id, organization_id, title, description, type, source, source_event, priority, status, assigned_to, assigned_to_type, created_by, created_date, last_updated, due_date, category, tags, sap_document)
VALUES
  ('TKT-001', 'ssc-center', 'Process Invoice Payment - INV-2024-001234', 'Automated invoice processing for vendor payment of $45,000 for office supplies', 'automated', 'SAP_ERP', 'INVOICE_SUBMITTED', 'medium', 'Created', 'ptm_f3', 'ai_agent', 'SAP System', '2025-01-22T09:15:00Z', '2025-01-22T09:15:00Z', '2025-01-24T17:00:00Z', 'Finance', '["invoice", "payment", "automated"]'::jsonb, '{"documentNumber": "INV-2024-001234", "documentType": "Invoice", "amount": 45000, "currency": "USD", "vendor": "Office Supplies Inc"}'::jsonb),
  ('TKT-002', 'ssc-center', 'Employee Onboarding - John Smith', 'Complete onboarding process for new employee John Smith in IT Department', 'manual', 'HR_SYSTEM', 'NEW_HIRE_REGISTERED', 'high', 'Assigned To', 'Michael Chen', 'human', 'ssc_h1', '2025-01-22T08:30:00Z', '2025-01-22T10:45:00Z', '2025-01-25T17:00:00Z', 'HR', '["onboarding", "new-hire", "manual"]'::jsonb, '{"documentNumber": "EMP-2025-0089", "documentType": "Employee Record", "employeeId": "EMP-2025-0089", "department": "IT Department"}'::jsonb),
  ('TKT-003', 'ssc-center', 'Purchase Order Approval - PO-2024-5678', 'Purchase order for IT equipment requiring manager approval - $125,000', 'manual', 'SAP_ERP', 'PO_APPROVAL_REQUIRED', 'high', 'Review for Closure', 'David Kumar', 'human', 'ssc_p1', '2025-01-21T14:20:00Z', '2025-01-22T11:30:00Z', '2025-01-23T17:00:00Z', 'Procurement', '["purchase-order", "approval", "high-value"]'::jsonb, '{"documentNumber": "PO-2024-5678", "documentType": "Purchase Order", "amount": 125000, "currency": "USD", "vendor": "Tech Solutions Corp"}'::jsonb),
  ('TKT-004', 'ssc-center', 'Password Reset Request - User ID: sarah.johnson', 'Automated password reset for user sarah.johnson@ssc.com', 'automated', 'IT_SYSTEM', 'PASSWORD_RESET_REQUEST', 'low', 'Done', 'ptm_i5', 'ai_agent', 'ptm_i5', '2025-01-22T07:45:00Z', '2025-01-22T07:47:00Z', '2025-01-22T09:00:00Z', 'IT Support', '["password-reset", "automated", "completed"]'::jsonb, '{"documentNumber": "PWD-RST-001234", "documentType": "Password Reset", "userId": "sarah.johnson", "requestType": "Self-Service"}'::jsonb),
  ('TKT-005', 'ssc-center', 'Vendor Compliance Review - ABC Logistics', 'Review vendor compliance documentation for ABC Logistics contract renewal', 'manual', 'COMPLIANCE_SYSTEM', 'COMPLIANCE_REVIEW_DUE', 'medium', 'Re-Open', 'Robert Thompson', 'human', 'ssc_c1', '2025-01-20T10:00:00Z', '2025-01-22T09:20:00Z', '2025-01-24T17:00:00Z', 'Compliance', '["vendor-compliance", "review", "reopened"]'::jsonb, '{"documentNumber": "VND-COMP-2024-089", "documentType": "Vendor Compliance", "vendorId": "ABC-LOG-001", "complianceType": "Annual Review"}'::jsonb),
  ('TKT-006', 'ssc-center', 'Monthly Financial Report Generation', 'Generate monthly financial reports for December 2024', 'automated', 'SAP_ERP', 'MONTH_END_CLOSE', 'high', 'Closed', 'ptm_f7', 'ai_agent', 'ssc_f1', '2025-01-21T23:00:00Z', '2025-01-22T02:30:00Z', '2025-01-22T08:00:00Z', 'Finance', '["financial-report", "month-end", "automated"]'::jsonb, '{"documentNumber": "FIN-RPT-2024-12", "documentType": "Financial Report", "period": "2024-12", "reportType": "Monthly Closing"}'::jsonb),
  ('TKT-007', 'ssc-center', 'Asset Maintenance Schedule - Equipment ID: EQ-001234', 'Schedule preventive maintenance for critical equipment based on IoT sensor data', 'automated', 'IOT_SENSORS', 'MAINTENANCE_DUE', 'high', 'Assigned To', 'ptm_am1', 'ai_agent', 'ptm_am1', '2025-01-22T06:00:00Z', '2025-01-22T06:05:00Z', '2025-01-23T12:00:00Z', 'Maintenance', '["maintenance", "iot", "preventive"]'::jsonb, '{"documentNumber": "MAINT-2025-0089", "documentType": "Maintenance Order", "equipmentId": "EQ-001234", "maintenanceType": "Preventive"}'::jsonb),
  ('TKT-008', 'ssc-center', 'Contract Renewal Review - Legal Services Agreement', 'Review and approve contract renewal for legal services - $250,000 annual value', 'manual', 'CONTRACT_SYSTEM', 'CONTRACT_RENEWAL_DUE', 'medium', 'Done', 'Jennifer Rodriguez', 'human', 'ssc_p1', '2025-01-19T11:00:00Z', '2025-01-22T14:20:00Z', '2025-01-26T17:00:00Z', 'Procurement', '["contract-renewal", "legal", "high-value"]'::jsonb, '{"documentNumber": "CTR-2024-LEG-001", "documentType": "Service Contract", "contractValue": 250000, "vendor": "Legal Services LLC"}'::jsonb),
  ('TKT-009', 'ssc-center', 'Data Analytics Report - Q4 Performance', 'Generate comprehensive Q4 performance analytics report for executive review', 'automated', 'ANALYTICS_SYSTEM', 'QUARTERLY_REPORT_DUE', 'high', 'Assigned To', 'ptm_a5', 'ai_agent', 'ptm_a5', '2025-01-22T05:00:00Z', '2025-01-22T05:15:00Z', '2025-01-24T17:00:00Z', 'Analytics', '["analytics", "quarterly", "executive"]'::jsonb, '{"documentNumber": "ANLYT-Q4-2024", "documentType": "Analytics Report", "period": "Q4-2024", "reportType": "Executive Summary"}'::jsonb),
  ('TKT-010', 'ssc-center', 'Compliance Audit Preparation - ISO 27001', 'Prepare documentation and evidence for upcoming ISO 27001 compliance audit', 'manual', 'COMPLIANCE_SYSTEM', 'AUDIT_PREPARATION_DUE', 'high', 'Review for Closure', 'Lisa Wang', 'human', 'ssc_c1', '2025-01-18T09:00:00Z', '2025-01-22T16:45:00Z', '2025-01-25T17:00:00Z', 'Compliance', '["audit", "iso27001", "documentation"]'::jsonb, '{"documentNumber": "AUDIT-ISO-2025-001", "documentType": "Audit Preparation", "auditType": "ISO 27001", "auditDate": "2025-02-15"}'::jsonb),
  ('TKT-011', 'ssc-center', 'Expense Report Processing - Travel Claims', 'Process and approve travel expense reports for December 2024', 'automated', 'EXPENSE_SYSTEM', 'EXPENSE_REPORTS_SUBMITTED', 'low', 'Done', 'ptm_f7', 'ai_agent', 'ptm_f7', '2025-01-21T16:30:00Z', '2025-01-22T08:15:00Z', '2025-01-23T17:00:00Z', 'Finance', '["expense-reports", "travel", "automated"]'::jsonb, '{"documentNumber": "EXP-2024-12-BATCH", "documentType": "Expense Report", "period": "2024-12", "totalAmount": 28500}'::jsonb),
  ('TKT-012', 'ssc-center', 'IT Asset Inventory Update', 'Update IT asset inventory based on recent hardware deployments and retirements', 'manual', 'ASSET_SYSTEM', 'ASSET_CHANGES_DETECTED', 'low', 'Assigned To', 'Priya Sharma', 'human', 'ssc_i1', '2025-01-22T11:00:00Z', '2025-01-22T11:30:00Z', '2025-01-27T17:00:00Z', 'IT Support', '["asset-inventory", "hardware", "manual"]'::jsonb, '{"documentNumber": "ASSET-UPD-2025-001", "documentType": "Asset Update", "assetsAffected": 45, "updateType": "Inventory Reconciliation"}'::jsonb),
  ('TKT-013', 'ssc-center', 'Payroll Processing - January 2025', 'Automated payroll processing for 12,847 employees for January 2025', 'automated', 'HR_SYSTEM', 'PAYROLL_CYCLE_START', 'high', 'Assigned To', 'ptm_hr5', 'ai_agent', 'ptm_hr5', '2025-01-22T12:00:00Z', '2025-01-22T12:05:00Z', '2025-01-25T17:00:00Z', 'HR', '["payroll", "automated", "monthly"]'::jsonb, '{"documentNumber": "PAY-2025-01", "documentType": "Payroll Batch", "period": "2025-01", "employeeCount": 12847}'::jsonb),
  ('TKT-014', 'ssc-center', 'Budget Variance Analysis - Q4 2024', 'Analyze budget variances and generate recommendations for Q4 2024', 'automated', 'SAP_ERP', 'BUDGET_ANALYSIS_REQUEST', 'medium', 'Done', 'ptm_a5', 'ai_agent', 'ptm_a5', '2025-01-21T09:30:00Z', '2025-01-22T14:15:00Z', '2025-01-24T17:00:00Z', 'Analytics', '["budget", "variance", "analysis"]'::jsonb, '{"documentNumber": "BDG-VAR-Q4-2024", "documentType": "Budget Analysis", "period": "Q4-2024", "varianceAmount": 125000}'::jsonb),
  ('TKT-015', 'ssc-center', 'Software License Renewal - Microsoft Office 365', 'Review and approve Microsoft Office 365 license renewal for 3,200 users', 'manual', 'LICENSE_SYSTEM', 'LICENSE_RENEWAL_DUE', 'high', 'Created', 'Jennifer Rodriguez', 'human', 'ssc_i1', '2025-01-22T13:45:00Z', '2025-01-22T13:45:00Z', '2025-01-28T17:00:00Z', 'IT Support', '["license-renewal", "microsoft", "high-value"]'::jsonb, '{"documentNumber": "LIC-REN-2025-001", "documentType": "License Renewal", "vendor": "Microsoft Corporation", "licenseCount": 3200}'::jsonb),
  ('TKT-016', 'ssc-center', 'Vendor Payment Processing - Batch 2025-001', 'Process vendor payments for approved invoices - total amount $2.4M', 'automated', 'SAP_ERP', 'PAYMENT_BATCH_READY', 'high', 'Assigned To', 'ptm_f7', 'ai_agent', 'ptm_f7', '2025-01-22T14:30:00Z', '2025-01-22T14:35:00Z', '2025-01-23T17:00:00Z', 'Finance', '["vendor-payment", "batch", "automated"]'::jsonb, '{"documentNumber": "PAY-BATCH-2025-001", "documentType": "Payment Batch", "totalAmount": 2400000, "vendorCount": 89}'::jsonb),
  ('TKT-017', 'ssc-center', 'Employee Benefits Enrollment Review', 'Review and process employee benefits enrollment changes for Q1 2025', 'manual', 'HR_SYSTEM', 'BENEFITS_ENROLLMENT_PERIOD', 'medium', 'Assigned To', 'Carlos Martinez', 'human', 'ssc_h1', '2025-01-22T15:00:00Z', '2025-01-22T15:30:00Z', '2025-01-30T17:00:00Z', 'HR', '["benefits", "enrollment", "quarterly"]'::jsonb, '{"documentNumber": "BEN-ENR-Q1-2025", "documentType": "Benefits Enrollment", "period": "Q1-2025", "employeesAffected": 456}'::jsonb)
ON CONFLICT (task_id) DO NOTHING;